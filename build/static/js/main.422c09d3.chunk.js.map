{"version":3,"sources":["personForm.js","personTable.js","app.js","index.js"],"names":["PersonForm","state","nameHandler","numberhandler","add","onSubmit","value","newName","onChange","newNumber","type","PersonTable","onClick","persons","map","person","key","name","number","id","App","props","addPerson","event","preventDefault","personObject","some","setState","axios","post","then","response","get","data","handleNameChange","target","handleNUmberChange","find","getAttribute","window","confirm","delete","personsObject","filter","e","console","log","this","React","Component","ReactDOM","render","document","getElementById"],"mappings":"qNAiBeA,EAfI,SAAC,GAA8C,IAA7CC,EAA4C,EAA5CA,MAAOC,EAAqC,EAArCA,YAAaC,EAAwB,EAAxBA,cAAeC,EAAS,EAATA,IACpD,OACA,0BAAMC,SAAUD,GACd,sCACQ,2BAAOE,MAAOL,EAAMM,QAASC,SAAUN,KAE/C,wCACU,2BAAOI,MAAOL,EAAMQ,UAAWD,SAAUL,KAEnD,6BACE,4BAAQO,KAAK,UAAb,kBCGOC,EAbK,SAAC,GAAD,IAAEV,EAAF,EAAEA,MAAOW,EAAT,EAASA,QAAT,OAChB,+BACE,+BACGX,EAAMY,QAAQC,KAAK,SAAAC,GAAM,OACxB,wBAAIC,IAAKD,EAAOE,MACd,4BAAKF,EAAOE,MACZ,4BAAKF,EAAOG,QACZ,4BAAI,4BAAQR,KAAO,SAASS,GAAMJ,EAAOE,KAAML,QAAWA,GAAtD,kB,gBCuFDQ,E,YAxFX,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KAmBRC,UAAY,SAACC,GACXA,EAAMC,iBACN,IAAMC,EAAe,CACnBR,KAAM,EAAKhB,MAAMM,QACjBW,OAAQ,EAAKjB,MAAMQ,WAGhB,EAAKR,MAAMY,QAAQa,MAAK,SAAAX,GAAM,OAAIA,EAAOE,OAAS,EAAKhB,MAAMM,WAchE,EAAKoB,SAAS,CACZpB,QAAS,GACTE,UAAW,KAfbmB,IACGC,KAAK,eAAgBJ,GACrBK,MAAK,SAAAC,GAEJH,IACGI,IAAI,gBACJF,MAAK,SAAAC,GACJ,EAAKJ,SAAS,CACZd,QAASkB,EAASE,cApCb,EAiDnBC,iBAAmB,SAACX,GAClB,EAAKI,SAAS,CACZpB,QAASgB,EAAMY,OAAO7B,SAnDP,EAsDnB8B,mBAAqB,SAACb,GACpB,EAAKI,SAAS,CACZlB,UAAWc,EAAMY,OAAO7B,SAxDT,EA4DnBM,QAAU,SAACW,GACT,IAAIR,EAAS,EAAKd,MAAMY,QAAQwB,MAAK,SAAAtB,GAAM,OAAIA,EAAOE,OAASM,EAAMY,OAAOG,aAAa,SACrFC,OAAOC,QAAQ,gBAAkBzB,EAAOE,KAAO,MACjDW,IACGa,OADH,uBAC0B1B,EAAOI,KAC9BW,MAAK,SAAAC,GACJ,IAAIW,EAAgB,EAAKzC,MAAMY,QAAQ8B,QAAO,SAAAC,GAAC,OAAIA,EAAE3B,OAASF,EAAOE,QACrE,EAAKU,SAAS,CACZd,QAAS6B,QAlEjB,EAAKzC,MAAQ,CACXY,QAAS,GACTN,QAAS,GACTE,UAAW,IALI,E,iFASE,IAAD,OAClBmB,IACGI,IAAI,gBACJF,MAAK,SAAAC,GACJc,QAAQC,IAAIf,EAASE,MACrB,EAAKN,SAAS,CACZd,QAASkB,EAASE,Y,+BA6D1B,OACE,6BACE,+CACA,kBAAC,EAAD,CAAYhC,MAAS8C,KAAK9C,MAAOC,YAAe6C,KAAKb,iBAAkB/B,cAAiB4C,KAAKX,mBAAoBhC,IAAO2C,KAAKzB,YAC7H,uCACA,kBAAC,EAAD,CAAarB,MAAS8C,KAAK9C,MAAOW,QAAWmC,KAAKnC,e,GAlFxCoC,IAAMC,WCCxBC,IAASC,OACL,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.422c09d3.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst PersonForm = ({state, nameHandler, numberhandler, add}) => {\r\n    return(\r\n    <form onSubmit={add}>\r\n      <div>\r\n        nimi: <input value={state.newName} onChange={nameHandler} />\r\n      </div>\r\n      <div>\r\n        numero: <input value={state.newNumber} onChange={numberhandler} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">lisää</button>\r\n      </div>\r\n    </form>\r\n  )}\r\n\r\nexport default PersonForm","import React from 'react';\r\n\r\nconst PersonTable = ({state, onClick}) => (\r\n    <table>\r\n      <tbody>\r\n        {state.persons.map (person => \r\n          <tr key={person.name}>\r\n            <td>{person.name}</td>\r\n            <td>{person.number}</td>\r\n            <td><button type = 'button' id = {person.name} onClick = {onClick}>Poista</button></td>\r\n          </tr>)}\r\n      </tbody>\r\n    </table>\r\n  )\r\n\r\nexport default PersonTable","import React from 'react';\r\nimport PersonForm from './personForm'\r\nimport PersonTable from './personTable'\r\nimport axios from 'axios'\r\n\r\n\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n      super(props)\r\n      this.state = {\r\n        persons: [],\r\n        newName: '',\r\n        newNumber: ''\r\n      }\r\n    }\r\n\r\n    componentDidMount() {\r\n      axios\r\n        .get('/api/persons')\r\n        .then(response => {\r\n          console.log(response.data)\r\n          this.setState({\r\n            persons: response.data\r\n          })\r\n        })\r\n    }\r\n\r\n    addPerson = (event) => {\r\n      event.preventDefault()\r\n      const personObject = {\r\n        name: this.state.newName,\r\n        number: this.state.newNumber\r\n      }\r\n\r\n      if (!this.state.persons.some(person => person.name === this.state.newName)) {\r\n        axios\r\n          .post('/api/persons', personObject)\r\n          .then(response => {\r\n            //Koska id:n generoi serveri ja id tarvitaan henkilöiden poistossa, jouduin tässä gettaamaan uudestaan henkilöt serveriltä.\r\n            axios\r\n              .get('/api/persons')\r\n              .then(response => {\r\n                this.setState({\r\n                  persons: response.data\r\n                })\r\n              })\r\n          })\r\n      } else {\r\n        this.setState({\r\n          newName: '',\r\n          newNumber: ''\r\n        })\r\n      }\r\n\r\n    }\r\n\r\n    handleNameChange = (event) => {\r\n      this.setState({\r\n        newName: event.target.value\r\n      })\r\n    }\r\n    handleNUmberChange = (event) => {\r\n      this.setState({\r\n        newNumber: event.target.value\r\n      })\r\n    }\r\n\r\n    onClick = (event) => {\r\n      let person = this.state.persons.find(person => person.name === event.target.getAttribute('id'))\r\n      if (window.confirm(\"Poistetaanko \" + person.name + '?')) {\r\n        axios\r\n          .delete(`/api/persons/${person.id}`)\r\n          .then(response => {\r\n            let personsObject = this.state.persons.filter(e => e.name !== person.name)\r\n            this.setState({\r\n              persons: personsObject\r\n            })\r\n          })\r\n      }\r\n    }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>Puhelinluettelo</h2>\r\n        <PersonForm state = {this.state} nameHandler = {this.handleNameChange} numberhandler = {this.handleNUmberChange} add = {this.addPerson}/>\r\n        <h2>Numerot</h2>\r\n        <PersonTable state = {this.state} onClick = {this.onClick}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\n// eslint-disable-next-line no-unused-vars\nimport Osa2course from './osa2course'\nimport App from './app'\n\n//Tehtävät 2.1-2.3 löytyvät tiedosta osa2course ja loput tehtävät ovat tiedostossa app.\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n)"],"sourceRoot":""}